/* src/styles/lawReportReader.css */

/* =========================================================
   0) Global polish (focus, selection, motion)
========================================================= */
.lrr2Wrap {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}
.lrr2Wrap ::selection {
  background: rgba(161, 24, 30, 0.18);
}
@media (prefers-reduced-motion: reduce) {
  .lrr2Wrap * {
    animation: none !important;
    transition: none !important;
    scroll-behavior: auto !important;
  }
}

/* =========================================================
   1) Root wrapper + theme tokens
========================================================= */
.lrr2Wrap {
  /* palette */
  --la-red: #a1181e;
  --la-red2: #702840;
  --la-teal: #0ea5a5;

  /* neutrals */
  --ink: rgba(15, 23, 42, 0.92);
  --muted: rgba(15, 23, 42, 0.62);
  --border: rgba(15, 23, 42, 0.12);

  /* surfaces */
  --surface: rgba(255, 255, 255, 0.92);
  --surface2: rgba(255, 255, 255, 0.78);

  /* shadows */
  --shadow: 0 12px 40px rgba(2, 6, 23, 0.08);
  --shadow2: 0 10px 30px rgba(2, 6, 23, 0.10);

  /* radii */
  --radius: 18px;

  /* page (transcript) */
  --pageBg: rgba(255, 255, 255, 0.92);
  --pageInk: rgba(15, 23, 42, 0.92);

  /* focus */
  --focusRing: 0 0 0 4px rgba(161, 24, 30, 0.12);
  --focusBorder: rgba(161, 24, 30, 0.38);

  min-height: 100vh;
  padding: 18px 16px 56px;
  color: var(--ink);
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(161, 24, 30, 0.09), transparent 55%),
    radial-gradient(900px 520px at 100% 0%, rgba(15, 23, 42, 0.06), transparent 50%),
    #f7f8fb;
}

/* Themes driven by: <div className="lrr2Wrap" data-theme="..."> */
.lrr2Wrap[data-theme="paper"] {
  --ink: rgba(15, 23, 42, 0.92);
  --muted: rgba(15, 23, 42, 0.62);
  --border: rgba(15, 23, 42, 0.12);
  --surface: rgba(255, 255, 255, 0.92);
  --surface2: rgba(255, 255, 255, 0.78);
  --pageBg: rgba(255, 255, 255, 0.92);
  --pageInk: rgba(15, 23, 42, 0.92);
}

.lrr2Wrap[data-theme="sepia"] {
  --ink: rgba(20, 18, 14, 0.92);
  --muted: rgba(62, 41, 25, 0.62);
  --border: rgba(62, 41, 25, 0.16);
  --surface: rgba(255, 248, 235, 0.86);
  --surface2: rgba(255, 248, 235, 0.78);
  --pageBg: rgba(250, 245, 235, 0.92);
  --pageInk: rgba(20, 18, 14, 0.92);

  --focusRing: 0 0 0 4px rgba(161, 24, 30, 0.10);
  --focusBorder: rgba(161, 24, 30, 0.34);

  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(161, 24, 30, 0.06), transparent 55%),
    radial-gradient(900px 520px at 100% 0%, rgba(62, 41, 25, 0.08), transparent 50%),
    #f3eee6;
}

.lrr2Wrap[data-theme="dark"] {
  --ink: rgba(226, 232, 240, 0.92);
  --muted: rgba(148, 163, 184, 0.72);
  --border: rgba(148, 163, 184, 0.18);
  --surface: rgba(15, 23, 42, 0.72);
  --surface2: rgba(15, 23, 42, 0.56);
  --pageBg: rgba(2, 6, 23, 0.70);
  --pageInk: rgba(226, 232, 240, 0.92);

  --shadow: 0 14px 48px rgba(0, 0, 0, 0.28);
  --shadow2: 0 12px 36px rgba(0, 0, 0, 0.26);

  --focusRing: 0 0 0 4px rgba(226, 232, 240, 0.10);
  --focusBorder: rgba(226, 232, 240, 0.30);

  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(161, 24, 30, 0.16), transparent 55%),
    radial-gradient(900px 520px at 100% 0%, rgba(255, 255, 255, 0.06), transparent 50%),
    #050914;
}

/* =========================================================
   2) Containers + common cards
========================================================= */
.lrr2Header,
.lrr2MetaCard,
.lrr2ActionsCard,
.lrr2TranscriptTools,
.lrr2Panel,
.lrrAi,
.lrr2Empty,
.lrr2Loading,
.lrr2Error {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* width rhythm */
.lrr2Header,
.lrr2TopGrid,
.lrr2Tabs,
.lrr2Content,
.lrr2Progress {
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
}

/* =========================================================
   3) Loading / error
========================================================= */
.lrr2Loading {
  margin-top: 18px;
  padding: 14px;
  font-weight: 750;
  color: var(--muted);
}

.lrr2Error {
  margin-top: 18px;
  padding: 14px;
}

.lrr2ErrorTitle {
  font-weight: 900;
  color: #b91c1c;
}

.lrr2ErrorMsg {
  margin-top: 6px;
  color: var(--muted);
  font-weight: 650;
  line-height: 1.55;
}

.lrr2TopActions {
  margin-top: 12px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* =========================================================
   4) Header + search (✅ improved compact header behavior)
========================================================= */
.lrr2Header {
  margin-top: 0;
  padding: 14px 14px 12px;
  position: sticky;
  top: 10px;
  z-index: 80;
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

.lrr2Wrap[data-theme="paper"] .lrr2Header,
.lrr2Wrap[data-theme="sepia"] .lrr2Header {
  background: color-mix(in srgb, var(--surface) 82%, transparent);
}

.lrr2Wrap[data-theme="dark"] .lrr2Header {
  background: color-mix(in srgb, var(--surface) 72%, transparent);
}

/* ✅ compact class from JSX: headerCompact */
.lrr2Header.isCompact {
  padding: 10px 12px 10px;
  box-shadow: var(--shadow2);
  border-color: color-mix(in srgb, var(--border) 75%, rgba(161, 24, 30, 0.10));
}

.lrr2HeaderTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrr2Brand {
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--ink);
}

.lrr2Header.isCompact .lrr2Brand {
  font-size: 16px;
}

.lrr2LinkBtn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 82%, transparent);
  color: var(--ink);
  padding: 10px 14px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 800;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2LinkBtn:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 95%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}
.lrr2LinkBtn:focus-visible {
  outline: none;
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
}

.lrr2SearchRow {
  margin-top: 12px;
  display: grid;
  gap: 8px;
}

.lrr2Header.isCompact .lrr2SearchRow {
  margin-top: 10px;
}

.lrr2SearchLabel {
  font-weight: 900;
  font-size: 12px;
  color: var(--la-red);
}

.lrr2SearchBox {
  position: relative;
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

/* ✅ lead icon/text inside search box (exists in JSX) */
.lrr2SearchLead {
  display: inline-flex;
  align-items: center;
  gap: 10px;
  color: var(--muted);
  font-weight: 700;
  font-size: 12px;
  padding: 8px 10px;
  border-radius: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
}
.lrr2SearchLead svg {
  width: 18px;
  height: 18px;
  opacity: 0.9;
}
@media (max-width: 640px) {
  .lrr2SearchLead {
    width: 100%;
    justify-content: flex-start;
  }
}

.lrr2SearchInput {
  flex: 1;
  min-width: 260px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 88%, transparent);
  color: var(--ink);
  border-radius: 14px;
  padding: 12px 14px;
  outline: none;
  font-weight: 650; /* ✅ not bold */
}
.lrr2SearchInput:focus {
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
}
.lrr2SearchInput::placeholder {
  color: color-mix(in srgb, var(--muted) 85%, transparent);
}

.lrr2SearchBtn {
  background: rgba(15, 23, 42, 0.86);
  color: #fff;
  border: 1px solid rgba(15, 23, 42, 0.86);
  border-radius: 14px;
  padding: 12px 16px;
  cursor: pointer;
  font-weight: 850;
  min-width: 110px;
  transition: transform .12s ease, opacity .12s ease, filter .12s ease;
}
.lrr2SearchBtn:hover { transform: translateY(-1px); filter: brightness(1.02); }
.lrr2SearchBtn:disabled { opacity: 0.6; cursor: not-allowed; }

/* dark mode search button visibility fix */
.lrr2Wrap[data-theme="dark"] .lrr2SearchBtn {
  background: rgba(226, 232, 240, 0.14);
  color: rgba(226, 232, 240, 0.92);
  border-color: rgba(148, 163, 184, 0.22);
}

.lrr2SearchHint {
  font-size: 12px;
  color: var(--muted);
  font-weight: 650;
}

/* Dropdown */
.lrr2SearchDropdown {
  position: absolute;
  top: calc(100% + 10px);
  left: 0;
  right: 0;
  z-index: 100;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: var(--shadow2);
  overflow: hidden;
  max-height: min(360px, 52vh);
  overflow-y: auto;
}

/* nicer scrollbar (webkit) */
.lrr2SearchDropdown::-webkit-scrollbar,
.lrr2ChatBox::-webkit-scrollbar {
  width: 10px;
}
.lrr2SearchDropdown::-webkit-scrollbar-thumb,
.lrr2ChatBox::-webkit-scrollbar-thumb {
  background: color-mix(in srgb, var(--border) 70%, transparent);
  border-radius: 999px;
  border: 2px solid transparent;
  background-clip: content-box;
}

.lrr2SearchErr {
  padding: 12px 14px;
  color: #b91c1c;
  font-weight: 800;
  background: rgba(185, 28, 28, 0.08);
  border-bottom: 1px solid rgba(185, 28, 28, 0.18);
}

/* Search result item */
.lrr2SearchItem {
  width: 100%;
  border: 0;
  background: transparent;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 14px;
  padding: 12px 14px;
  cursor: pointer;
  text-align: left;
}
.lrr2SearchItem:hover {
  background: rgba(15, 23, 42, 0.04);
}
.lrr2SearchItem:focus-visible {
  outline: none;
  box-shadow: inset 0 0 0 2px rgba(161, 24, 30, 0.22);
  background: rgba(161, 24, 30, 0.06);
}

.lrr2SearchItemLeft { min-width: 0; flex: 1; }
.lrr2SearchItemTitle { font-weight: 850; line-height: 1.25; color: var(--ink); } /* heading-ish */
.lrr2SearchItemMeta {
  margin-top: 4px;
  font-size: 12px;
  color: var(--muted);
  font-weight: 650;
}
.lrr2SearchItemRight {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
  max-width: 46%;
}

/* Tag */
.lrr2Tag {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 750; /* ✅ less bold */
  line-height: 1;
}
.lrr2Tag.soft {
  background: rgba(15, 23, 42, 0.06);
}

/* =========================================================
   5) Progress + ToTop
========================================================= */
.lrr2Progress {
  position: sticky;
  top: 0;
  z-index: 60;
  height: 3px;
  margin-top: 10px;
  background: transparent;
}

.lrr2ProgressBar {
  height: 3px;
  width: 100%;
  transform-origin: left center;
  transform: scaleX(0);
  background: linear-gradient(90deg, rgba(161,24,30,0.0), rgba(161,24,30,0.85), rgba(15,23,42,0.85));
  border-radius: 99px;
}

.lrr2ToTop {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 70;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--ink);
  border-radius: 999px;
  width: 44px;
  height: 44px;
  cursor: pointer;
  box-shadow: var(--shadow2);
  font-weight: 900;
  transition: transform .12s ease, background .12s ease;
}
.lrr2ToTop:hover {
  transform: translateY(-2px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
}
.lrr2ToTop:focus-visible {
  outline: none;
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
}
@media (max-width: 640px) {
  .lrr2ToTop {
    right: 12px;
    bottom: 12px;
  }
}

/* =========================================================
   6) Top grid (meta + actions)  ✅ matches JSX (.lrr2MetaGrid/.lrr2MetaTag)
========================================================= */
.lrr2TopGrid {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 14px;
  margin-top: 14px;
}

@media (max-width: 1100px) {
  .lrr2TopGrid { grid-template-columns: 1fr 320px; }
}
@media (max-width: 900px) {
  .lrr2TopGrid { grid-template-columns: 1fr; }
}

.lrr2MetaCard,
.lrr2ActionsCard {
  padding: 14px;
}

/* Sticky actions on desktop */
.lrr2ActionsCard {
  position: sticky;
  top: 22px;
  align-self: start;
}
@media (max-width: 900px) {
  .lrr2ActionsCard { position: static; top: auto; }
}

/* ✅ Meta layout used in updated JSX */
.lrr2MetaGrid {
  display: grid;
  gap: 10px;
}
.lrr2MetaRow {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

/* ✅ Meta tags used in JSX */
.lrr2MetaTag {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 750;
  font-size: 13px;
  line-height: 1;
  cursor: default;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

.lrr2MetaIcon svg {
  width: 18px;
  height: 18px;
  opacity: 0.9;
}

/* ✅ Actions in JSX (.lrr2MetaAction buttons) */
.lrr2MetaAction {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  padding: 10px 12px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 800;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2MetaAction:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}
.lrr2MetaAction:focus-visible {
  outline: none;
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
}

.lrr2MetaHint {
  display: inline-block;
  color: var(--muted);
  font-weight: 650;
  font-size: 12px;
}

/* Optional tooltip (data-tip) */
.lrr2MetaTag[data-tip],
.lrr2MetaHint[data-tip] { position: relative; }

.lrr2MetaTag[data-tip]::after,
.lrr2MetaHint[data-tip]::after {
  content: attr(data-tip);
  position: absolute;
  left: 50%;
  bottom: calc(100% + 10px);
  transform: translateX(-50%);
  white-space: nowrap;
  font-size: 12px;
  line-height: 1.2;
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(15, 23, 42, 0.92);
  color: #fff;
  box-shadow: 0 14px 40px rgba(2, 6, 23, 0.35);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.12s ease, transform 0.12s ease;
  z-index: 120;
}
.lrr2MetaTag[data-tip]::before,
.lrr2MetaHint[data-tip]::before {
  content: "";
  position: absolute;
  left: 50%;
  bottom: calc(100% + 4px);
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: rgba(15, 23, 42, 0.92);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.12s ease;
  z-index: 120;
}
.lrr2MetaTag[data-tip]:hover::after,
.lrr2MetaTag[data-tip]:hover::before,
.lrr2MetaTag[data-tip]:focus-visible::after,
.lrr2MetaTag[data-tip]:focus-visible::before,
.lrr2MetaHint[data-tip]:hover::after,
.lrr2MetaHint[data-tip]:hover::before,
.lrr2MetaHint[data-tip]:focus-visible::after,
.lrr2MetaHint[data-tip]:focus-visible::before {
  opacity: 1;
  transform: translateX(-50%) translateY(-2px);
}

/* Actions right card (quick panel) */
.lrr2StatusTop {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}
.lrr2StatusTitle {
  font-weight: 950;
  letter-spacing: -0.01em;
}
.lrr2StatusPills {
  display: inline-flex;
  gap: 8px;
  flex-wrap: wrap;
}
.lrr2StatusPill {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--muted);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 800;
}
.lrr2StatusPill.isOn {
  background: rgba(14, 165, 165, 0.12);
  border-color: rgba(14, 165, 165, 0.24);
  color: var(--ink);
}
.lrr2StatusRows {
  margin-top: 12px;
  display: grid;
  gap: 10px;
}
.lrr2StatusRow {
  display: grid;
  grid-template-columns: 1fr auto auto;
  gap: 10px;
  align-items: center;
  padding: 10px 10px;
  border: 1px solid var(--border);
  border-radius: 14px;
  background: color-mix(in srgb, var(--surface) 86%, transparent);
}
.lrr2StatusK { font-weight: 850; }
.lrr2StatusV { font-weight: 750; color: var(--muted); }
.lrr2StatusV.isGood { color: var(--ink); }

.lrr2StatusBtn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 90%, transparent);
  color: var(--ink);
  padding: 8px 10px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 800;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2StatusBtn:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}
.lrr2StatusBtn:focus-visible {
  outline: none;
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
}
.lrr2StatusNote {
  margin-top: 12px;
  color: var(--muted);
  font-weight: 650;
  font-size: 12px;
}

/* =========================================================
   7) Tabs (alignment + touch targets)
========================================================= */
.lrr2Tabs {
  margin-top: 12px;

  padding: 6px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: var(--shadow);

  display: flex;
  align-items: center;
  justify-content: flex-start;
  gap: 6px;
  flex-wrap: wrap;
}

.lrr2Tab {
  border: 0;
  background: transparent;
  color: var(--ink);
  border-radius: 999px;
  padding: 10px 14px;
  cursor: pointer;
  font-weight: 800;

  display: inline-flex;
  align-items: center;
  gap: 10px;
  transition: background .12s ease, transform .12s ease;
}
.lrr2Tab:hover {
  background: rgba(15, 23, 42, 0.05);
  transform: translateY(-1px);
}
.lrr2Tab:focus-visible {
  outline: none;
  box-shadow: inset 0 0 0 2px rgba(161, 24, 30, 0.22);
}
.lrr2Tab.isActive {
  background: rgba(161, 24, 30, 0.10);
  box-shadow: inset 0 0 0 1px rgba(161, 24, 30, 0.18);
}
.lrr2TabBadge {
  font-size: 11px;
  font-weight: 900;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(161, 24, 30, 0.14);
  color: var(--la-red);
  border: 1px solid rgba(161, 24, 30, 0.18);
}

/* =========================================================
   8) Content + transcript tools
========================================================= */
.lrr2Content {
  margin-top: 14px;
}

.lrr2Empty {
  padding: 14px;
  color: var(--muted);
  font-weight: 650;
}

.lrr2TranscriptTools {
  padding: 14px;
}

.lrr2CaseActions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

/* buttons */
.lrr2Btn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 800;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2Btn:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}
.lrr2Btn:focus-visible {
  outline: none;
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
}
.lrr2Btn.primary {
  background: linear-gradient(135deg, var(--la-red), var(--la-red2));
  color: #fff;
  border-color: rgba(161, 24, 30, 0.25);
}
.lrr2Btn.primary:hover { filter: brightness(1.03); }
.lrr2Btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

/* Reader bar */
.lrr2ReaderBar {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrr2ReaderCluster {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.lrr2IconBtn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 800;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2IconBtn svg { width: 18px; height: 18px; }
.lrr2IconBtn:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}
.lrr2IconBtn:focus-visible {
  outline: none;
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
}
.lrr2IconBtn.isOn {
  background: rgba(14, 165, 165, 0.10);
  border-color: rgba(14, 165, 165, 0.22);
}
.lrr2IconBtnText { font-weight: 900; font-size: 12px; opacity: 0.9; }

/* =========================================================
   9) Collapsible transcript body
========================================================= */
.lrr2Collapse {
  margin-top: 12px;
  background: var(--pageBg);
  color: var(--pageInk);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px;
  transition: max-height .18s ease, opacity .18s ease;
}
.lrr2Collapse.closed {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  padding: 0;
  border: 0;
  box-shadow: none;
}
.lrr2Collapse.open { max-height: 100000px; opacity: 1; }

.lrr2FontSerif { font-family: ui-serif, Georgia, "Times New Roman", Times, serif; }
.lrr2FontSans { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

/* font scale helpers (JSX creates lrr2Fs-90..120) */
.lrr2Fs-90 { font-size: 0.90em; }
.lrr2Fs-91 { font-size: 0.91em; }
.lrr2Fs-92 { font-size: 0.92em; }
.lrr2Fs-93 { font-size: 0.93em; }
.lrr2Fs-94 { font-size: 0.94em; }
.lrr2Fs-95 { font-size: 0.95em; }
.lrr2Fs-96 { font-size: 0.96em; }
.lrr2Fs-97 { font-size: 0.97em; }
.lrr2Fs-98 { font-size: 0.98em; }
.lrr2Fs-99 { font-size: 0.99em; }
.lrr2Fs-100 { font-size: 1.00em; }
.lrr2Fs-101 { font-size: 1.01em; }
.lrr2Fs-102 { font-size: 1.02em; }
.lrr2Fs-103 { font-size: 1.03em; }
.lrr2Fs-104 { font-size: 1.04em; }
.lrr2Fs-105 { font-size: 1.05em; }
.lrr2Fs-106 { font-size: 1.06em; }
.lrr2Fs-107 { font-size: 1.07em; }
.lrr2Fs-108 { font-size: 1.08em; }
.lrr2Fs-109 { font-size: 1.09em; }
.lrr2Fs-110 { font-size: 1.10em; }
.lrr2Fs-111 { font-size: 1.11em; }
.lrr2Fs-112 { font-size: 1.12em; }
.lrr2Fs-113 { font-size: 1.13em; }
.lrr2Fs-114 { font-size: 1.14em; }
.lrr2Fs-115 { font-size: 1.15em; }
.lrr2Fs-116 { font-size: 1.16em; }
.lrr2Fs-117 { font-size: 1.17em; }
.lrr2Fs-118 { font-size: 1.18em; }
.lrr2Fs-119 { font-size: 1.19em; }
.lrr2Fs-120 { font-size: 1.20em; }

/* Transcript formatting */
.lrr2CaseFmt { line-height: 1.8; max-width: 78ch; margin: 0 auto; }
.lrr2CaseH { margin: 18px 0 8px; font-weight: 950; letter-spacing: -0.01em; }
.lrr2CaseP { margin: 10px 0; font-weight: 450; }

/* If HTML content is used */
.lrr2Html { line-height: 1.75; }
.lrr2Html :where(h2){ font-size:18px; font-weight:900; margin:14px 0 8px; }
.lrr2Html :where(h3){ font-size:16px; font-weight:900; margin:12px 0 6px; }
.lrr2Html :where(h4){ font-size:14px; font-weight:900; margin:10px 0 6px; }
.lrr2Html :where(p){ margin: 8px 0; line-height:1.7; font-weight: 450; }
.lrr2Html :where(blockquote){
  border-left:4px solid rgba(148,163,184,.5);
  padding-left:12px;
  margin:10px 0;
}
.lrr2Html :where(table){ width:100%; border-collapse:collapse; margin:10px 0; }
.lrr2Html :where(th, td){
  border:1px solid rgba(148,163,184,.5);
  padding:8px;
  vertical-align:top;
}
.lrr2Html :where(ul,ol){ padding-left:20px; }
.lrr2Html :where(li){ font-weight: 450; }
.lrr2Html :where(a){ text-decoration:underline; }

/* =========================================================
   10) Panels (related db / ai related / etc.)
========================================================= */
.lrr2Panel { padding: 14px; }
.lrr2Panel--tight { padding: 14px; }

.lrr2PanelHead {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrr2PanelHeadLeft { min-width: 260px; }
.lrr2PanelTitle { font-weight: 950; letter-spacing: -0.01em; }
.lrr2PanelSub { margin-top: 4px; font-size: 13px; color: var(--muted); font-weight: 650; }
.lrr2PanelError { margin-top: 10px; color: #b91c1c; font-weight: 700; }
.lrr2PanelEmpty { margin-top: 10px; color: var(--muted); font-weight: 650; }

/* DB related list */
.lrr2DbRelatedList { margin-top: 10px; display: grid; gap: 8px; }
.lrr2SearchItem--row {
  border-radius: 14px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 90%, transparent);
}
.lrr2SearchItem--row:hover {
  background: color-mix(in srgb, var(--surface) 96%, transparent);
}

/* =========================================================
   11) AI Summary
========================================================= */
.lrrAi {
  padding: 14px;
}

.lrrAiTop { margin-bottom: 10px; }
.lrrAiTitleRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrrAiTitle {
  font-weight: 950;
  letter-spacing: -0.01em;
  font-size: 14px;
  text-transform: uppercase;
  opacity: 0.9;
}

.lrrAiBadge {
  border: 1px solid rgba(161, 24, 30, 0.22);
  background: rgba(161, 24, 30, 0.10);
  color: var(--la-red);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 900;
}

.lrrAiIconRow { display:flex; gap:8px; align-items:center; }

.lrrAiToast {
  margin-top: 10px;
  display: inline-block;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.06);
  border: 1px solid var(--border);
  font-weight: 700;
  font-size: 12px;
  color: var(--muted);
}

.lrrAiError {
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(185, 28, 28, 0.08);
  border: 1px solid rgba(185, 28, 28, 0.18);
  color: #b91c1c;
  font-weight: 750;
}

.lrrAiHeadnote {
  margin-top: 10px;
  border-top: 1px solid var(--border);
  padding-top: 10px;
}
.lrrAiHeadnoteTitle {
  font-weight: 950;
  letter-spacing: -0.01em;
  font-size: 18px;
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
}
.lrrAiHeadnoteMeta {
  margin-top: 4px;
  color: var(--muted);
  font-weight: 650;
  font-size: 13px;
}
.lrrAiHeadnoteRule {
  margin-top: 10px;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(161, 24, 30, 0.22), transparent);
}

.lrrAiUpgrade {
  margin-top: 12px;
  border: 1px solid rgba(161, 24, 30, 0.20);
  background: rgba(161, 24, 30, 0.08);
  border-radius: 16px;
  padding: 12px;
  display: flex;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}
.lrrAiUpgrade.isExtended {
  background: rgba(15, 23, 42, 0.06);
  border-color: var(--border);
}
.lrrAiUpgradeText { font-weight: 650; color: var(--ink); }

.lrrAiUpgradeBtn {
  border: 1px solid rgba(161, 24, 30, 0.25);
  background: linear-gradient(135deg, var(--la-red), var(--la-red2));
  color: #fff;
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 900;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  transition: transform .12s ease, filter .12s ease, opacity .12s ease;
}
.lrrAiUpgradeBtn svg { width: 18px; height: 18px; }
.lrrAiUpgradeBtn:hover { transform: translateY(-1px); filter: brightness(1.03); }
.lrrAiUpgradeBtn:focus-visible {
  outline: none;
  border-color: var(--focusBorder);
  box-shadow: var(--focusRing);
}
.lrrAiUpgradeBtn:disabled { opacity: 0.65; cursor: not-allowed; transform: none; }

.lrrAiUpgradeBtn.ghost {
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-color: var(--border);
}
.lrrAiUpgradeBtn.ghost:hover {
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  filter: none;
}

.lrrAiBody {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
}

.lrrAiFooterNote {
  margin-top: 12px;
  font-size: 12px;
  color: var(--muted);
  font-weight: 650;
}

/* AI rich summary */
.lrrAiRich { line-height: 1.75; }
.lrrAiTitleBlock {
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(161, 24, 30, 0.18);
  background: rgba(161, 24, 30, 0.06);
  margin-bottom: 12px;
}
.lrrAiTitleKicker {
  font-size: 12px;
  font-weight: 950;
  text-transform: uppercase;
  color: var(--la-red);
  opacity: 0.9;
}
.lrrAiTitleMain {
  margin-top: 6px;
  font-weight: 950;
  font-size: 16px;
  letter-spacing: -0.01em;
}

.lrrAiBlock { margin-top: 12px; }
.lrrAiH { font-weight: 950; letter-spacing: -0.01em; }
.lrrAiHVal { color: var(--muted); font-weight: 650; }
.lrrAiP { margin-top: 8px; font-weight: 450; color: var(--ink); }

/* Bullets */
.lrrAiUl { margin-top: 8px; padding-left: 18px; }
.lrrAiLi { margin: 6px 0; font-weight: 450; }

/* Key points details (collapsible) */
.lrrKp {
  margin-top: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 80%, transparent);
  border-radius: 16px;
  padding: 10px 12px;
}
.lrrKpSummary {
  cursor: pointer;
  font-weight: 900;
  color: var(--ink);
}
.lrrKpHint { color: var(--muted); font-weight: 650; }
.lrrKpVal { color: var(--muted); font-weight: 650; }

/* =========================================================
   11.1) Premium Key Points cards
========================================================= */
.lrrAiUl.isKeyPointsCards {
  list-style: none;
  padding-left: 0;
  display: grid;
  gap: 10px;
  margin-top: 10px;
}

.lrrAiUl.isKeyPointsCards .lrrAiLi {
  position: relative;
  padding: 12px 14px;
  border-radius: 16px;
  background: color-mix(in srgb, var(--surface) 92%, transparent);
  box-shadow: 0 12px 26px rgba(2, 6, 23, 0.06);
  font-weight: 450;
  line-height: 1.55;
  overflow: hidden;
}

/* gradient border ring */
.lrrAiUl.isKeyPointsCards .lrrAiLi::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 1px;
  border-radius: 16px;
  background: linear-gradient(
    135deg,
    rgba(161, 24, 30, 0.42),
    rgba(14, 165, 165, 0.26),
    rgba(15, 23, 42, 0.18)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
}

/* subtle glow top-left */
.lrrAiUl.isKeyPointsCards .lrrAiLi::after {
  content: "";
  position: absolute;
  width: 240px;
  height: 140px;
  left: -120px;
  top: -90px;
  background: radial-gradient(circle, rgba(161,24,30,0.16), transparent 60%);
  pointer-events: none;
}

/* =========================================================
   12) Chat panel
========================================================= */
.lrr2ChatPanel { margin-top: 12px; }

.lrr2ChatBox {
  margin-top: 10px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(15, 23, 42, 0.05);
  padding: 12px;
  max-height: 320px;
  overflow: auto;
}

.lrr2ChatRow { display: flex; margin-bottom: 10px; }
.lrr2ChatRow.isUser { justify-content: flex-end; }
.lrr2ChatRow.isAi { justify-content: flex-start; }

.lrr2ChatBubble {
  max-width: 86%;
  padding: 10px 12px;
  border-radius: 14px;
  font-size: 13px;
  line-height: 1.45;
  white-space: pre-wrap;
  border: 1px solid rgba(255, 255, 255, 0.10);
  font-weight: 450;
}
.lrr2ChatBubble.isUser {
  background: rgba(161, 24, 30, 0.14);
  border-color: rgba(161, 24, 30, 0.18);
}
.lrr2ChatBubble.isAi {
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  border-color: var(--border);
}

.lrr2ChatComposer {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.lrr2ChatInput {
  flex: 1;
  min-width: 240px;
}

/* =========================================================
   12.1) AI Related Cases formatting (cards + grid)
========================================================= */
.lrr2AiRelatedPanel { margin-top: 12px; }

.lrr2RelatedGrid {
  margin-top: 10px;
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 14px;
}

@media (max-width: 900px) {
  .lrr2RelatedGrid {
    grid-template-columns: 1fr;
  }
}

.lrr2RelatedSection {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  border-radius: 18px;
  padding: 12px;
  box-shadow: 0 10px 24px rgba(2, 6, 23, 0.06);
}

.lrr2RelatedSectionTitle {
  font-weight: 950;
  letter-spacing: -0.01em;
  margin-bottom: 8px;
}

.lrr2RelatedStack {
  display: grid;
  gap: 10px;
  margin-top: 10px;
}

.lrr2RelatedNone {
  margin-top: 8px;
  color: var(--muted);
  font-weight: 650;
}

.lrr2RelatedCard {
  position: relative;
  border-radius: 16px;
  padding: 12px;
  background: color-mix(in srgb, var(--surface) 92%, transparent);
  box-shadow: 0 12px 26px rgba(2, 6, 23, 0.06);
  overflow: hidden;
}

.lrr2RelatedCard::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 1px;
  border-radius: 16px;
  background: linear-gradient(
    135deg,
    rgba(161, 24, 30, 0.35),
    rgba(15, 23, 42, 0.16),
    rgba(14, 165, 165, 0.22)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
}

.lrr2RelatedTop {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 10px;
}

.lrr2RelatedTitleWrap { min-width: 0; }

.lrr2RelatedTitle {
  font-weight: 850;
  line-height: 1.25;
  letter-spacing: -0.01em;
}

.lrr2RelatedMeta {
  margin-top: 4px;
  color: var(--muted);
  font-weight: 650;
  font-size: 12px;
}

.lrr2RelatedTags {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
  max-width: 48%;
}

.lrr2RelatedNote {
  margin-top: 10px;
  color: var(--muted);
  font-weight: 450;
  line-height: 1.5;
}

.lrr2RelatedActions {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.lrr2RelatedActions a.lrr2Btn {
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* =========================================================
   13) Responsive
========================================================= */
@media (max-width: 640px) {
  .lrr2Wrap { padding: 14px 12px 40px; }
  .lrr2Brand { font-size: 16px; }
  .lrr2SearchInput { min-width: 0; width: 100%; }
  .lrr2SearchBtn { width: 100%; min-width: 0; }
  .lrr2SearchItemRight { max-width: 100%; justify-content: flex-start; }
  .lrr2StatusRow { grid-template-columns: 1fr auto; }
  .lrr2StatusRow .lrr2StatusBtn { grid-column: 1 / -1; }
}
/* =========================================================
   PREMIUM META PANEL (single column / branded)
   Add at bottom of file
========================================================= */

/* Force the top area to be a single full-width column */
.lrr2TopGrid--single {
  grid-template-columns: 1fr !important;
}

/* Make meta card premium + branded */
.lrr2MetaCard {
  position: relative;
  padding: 16px;
  overflow: hidden;
}

/* Premium gradient ring */
.lrr2MetaCard::before {
  content: "";
  position: absolute;
  inset: 0;
  padding: 1px;
  border-radius: var(--radius);
  background: linear-gradient(
    135deg,
    rgba(161, 24, 30, 0.38),
    rgba(14, 165, 165, 0.18),
    rgba(15, 23, 42, 0.14)
  );
  -webkit-mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
  mask:
    linear-gradient(#000 0 0) content-box,
    linear-gradient(#000 0 0);
}

/* Soft brand glow */
.lrr2MetaCard::after {
  content: "";
  position: absolute;
  width: 520px;
  height: 280px;
  left: -260px;
  top: -190px;
  background: radial-gradient(circle, rgba(161, 24, 30, 0.14), transparent 60%);
  pointer-events: none;
}

/* Better spacing for meta rows */
.lrr2MetaGrid {
  display: grid;
  gap: 12px;
  position: relative;
  z-index: 1;
}

.lrr2MetaRow {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: center;
}

/* The meta “chips” (your JSX uses lrr2MetaTag) */
.lrr2MetaTag {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 88%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 750;
  font-size: 13px;
  line-height: 1;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}

.lrr2MetaTag:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}

.lrr2MetaIcon svg {
  width: 18px;
  height: 18px;
  opacity: 0.9;
}

/* Copy buttons (your JSX uses lrr2MetaAction) */
.lrr2MetaAction {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 800;
  font-size: 13px;
  line-height: 1;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}

.lrr2MetaAction:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}

.lrr2MetaAction:active {
  transform: translateY(0px);
}

/* Dark theme tweaks for chip backgrounds */
.lrr2Wrap[data-theme="dark"] .lrr2MetaTag,
.lrr2Wrap[data-theme="dark"] .lrr2MetaAction {
  background: color-mix(in srgb, rgba(15, 23, 42, 0.72) 80%, transparent);
}

/* Mobile: keep it clean */
@media (max-width: 640px) {
  .lrr2MetaCard { padding: 14px; }
  .lrr2MetaTag, .lrr2MetaAction { width: auto; max-width: 100%; }
}
