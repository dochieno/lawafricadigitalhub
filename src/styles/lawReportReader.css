/* src/styles/lawReportReader.css */

/* =========================================================
   1) Root wrapper + theme tokens
========================================================= */
.lrr2Wrap {
  /* palette */
  --la-red: #a1181e;
  --la-red2: #702840;
  --la-teal: #0ea5a5;

  /* neutrals */
  --ink: rgba(15, 23, 42, 0.92);
  --muted: rgba(15, 23, 42, 0.62);
  --border: rgba(15, 23, 42, 0.12);

  /* surfaces */
  --surface: rgba(255, 255, 255, 0.92);
  --surface2: rgba(255, 255, 255, 0.78);

  /* shadows */
  --shadow: 0 12px 40px rgba(2, 6, 23, 0.08);
  --shadow2: 0 10px 30px rgba(2, 6, 23, 0.10);

  /* radii */
  --radius: 18px;

  /* page (transcript) */
  --pageBg: rgba(255, 255, 255, 0.92);
  --pageInk: rgba(15, 23, 42, 0.92);

  min-height: 100vh;
  padding: 18px 16px 56px;
  color: var(--ink);
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(161, 24, 30, 0.09), transparent 55%),
    radial-gradient(900px 520px at 100% 0%, rgba(15, 23, 42, 0.06), transparent 50%),
    #f7f8fb;
}

/* Themes driven by: <div className="lrr2Wrap" data-theme="..."> */
.lrr2Wrap[data-theme="paper"] {
  --ink: rgba(15, 23, 42, 0.92);
  --muted: rgba(15, 23, 42, 0.62);
  --border: rgba(15, 23, 42, 0.12);
  --surface: rgba(255, 255, 255, 0.92);
  --surface2: rgba(255, 255, 255, 0.78);
  --pageBg: rgba(255, 255, 255, 0.92);
  --pageInk: rgba(15, 23, 42, 0.92);
}

.lrr2Wrap[data-theme="sepia"] {
  --ink: rgba(20, 18, 14, 0.92);
  --muted: rgba(62, 41, 25, 0.62);
  --border: rgba(62, 41, 25, 0.16);
  --surface: rgba(255, 248, 235, 0.86);
  --surface2: rgba(255, 248, 235, 0.78);
  --pageBg: rgba(250, 245, 235, 0.92);
  --pageInk: rgba(20, 18, 14, 0.92);
  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(161, 24, 30, 0.06), transparent 55%),
    radial-gradient(900px 520px at 100% 0%, rgba(62, 41, 25, 0.08), transparent 50%),
    #f3eee6;
}

.lrr2Wrap[data-theme="dark"] {
  --ink: rgba(226, 232, 240, 0.92);
  --muted: rgba(148, 163, 184, 0.72);
  --border: rgba(148, 163, 184, 0.18);
  --surface: rgba(15, 23, 42, 0.72);
  --surface2: rgba(15, 23, 42, 0.56);
  --pageBg: rgba(2, 6, 23, 0.70);
  --pageInk: rgba(226, 232, 240, 0.92);

  background:
    radial-gradient(1200px 600px at 20% -10%, rgba(161, 24, 30, 0.16), transparent 55%),
    radial-gradient(900px 520px at 100% 0%, rgba(255, 255, 255, 0.06), transparent 50%),
    #050914;
}

/* =========================================================
   2) Containers + common cards
========================================================= */
.lrr2Header,
.lrr2MetaCard,
.lrr2ActionsCard,
.lrr2TranscriptTools,
.lrr2Panel,
.lrrAi,
.lrr2Empty,
.lrr2Loading,
.lrr2Error {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* width rhythm */
.lrr2Header,
.lrr2TopGrid,
.lrr2Content,
.lrr2Progress {
  max-width: 1000px;
  margin-left: auto;
  margin-right: auto;
}

/* =========================================================
   3) Loading / error
========================================================= */
.lrr2Loading {
  margin-top: 18px;
  padding: 14px;
  font-weight: 850;
  color: var(--muted);
}

.lrr2Error {
  margin-top: 18px;
  padding: 14px;
}

.lrr2ErrorTitle {
  font-weight: 950;
  color: #b91c1c;
}

.lrr2ErrorMsg {
  margin-top: 6px;
  color: var(--muted);
  font-weight: 750;
  line-height: 1.55;
}

.lrr2TopActions {
  margin-top: 12px;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
}

/* =========================================================
   4) Header + search
========================================================= */
.lrr2Header {
  margin-top: 0;
  padding: 14px 14px 12px;
}

.lrr2HeaderTop {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrr2Brand {
  font-size: 18px;
  font-weight: 900;
  letter-spacing: -0.02em;
  color: var(--ink);
}

.lrr2LinkBtn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 82%, transparent);
  color: var(--ink);
  padding: 10px 14px;
  border-radius: 999px;
  cursor: pointer;
  font-weight: 850;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2LinkBtn:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 95%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}

.lrr2SearchRow {
  margin-top: 12px;
  display: grid;
  gap: 8px;
}

.lrr2SearchLabel {
  font-weight: 900;
  font-size: 12px;
  color: var(--la-red);
}

.lrr2SearchBox {
  position: relative;
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.lrr2SearchInput {
  flex: 1;
  min-width: 260px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 88%, transparent);
  color: var(--ink);
  border-radius: 14px;
  padding: 12px 14px;
  outline: none;

  /* ✅ NOT overly bold */
  font-weight: 600;
}
.lrr2SearchInput:focus {
  border-color: rgba(161, 24, 30, 0.35);
  box-shadow: 0 0 0 4px rgba(161, 24, 30, 0.10);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
}

.lrr2SearchBtn {
  background: rgba(15, 23, 42, 0.86);
  color: #fff;
  border: 1px solid rgba(15, 23, 42, 0.86);
  border-radius: 14px;
  padding: 12px 16px;
  cursor: pointer;
  font-weight: 850;
  min-width: 110px;
  transition: transform .12s ease, opacity .12s ease;
}
.lrr2SearchBtn:hover { transform: translateY(-1px); }
.lrr2SearchBtn:disabled { opacity: 0.6; cursor: not-allowed; }

/* dark mode search button visibility fix */
.lrr2Wrap[data-theme="dark"] .lrr2SearchBtn {
  background: rgba(226, 232, 240, 0.14);
  color: rgba(226, 232, 240, 0.92);
  border-color: rgba(148, 163, 184, 0.22);
}

.lrr2SearchHint {
  font-size: 12px;
  color: var(--muted);

  /* ✅ NOT overly bold */
  font-weight: 500;
}

/* Dropdown */
.lrr2SearchDropdown {
  position: absolute;
  top: calc(100% + 10px);
  left: 0;
  right: 0;
  z-index: 50;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: var(--shadow2);
  overflow: hidden;
  max-height: 360px;
  overflow-y: auto;
}

.lrr2SearchErr {
  padding: 12px 14px;
  color: #b91c1c;
  font-weight: 850;
  background: rgba(185, 28, 28, 0.08);
  border-bottom: 1px solid rgba(185, 28, 28, 0.18);
}

/* Search result item */
.lrr2SearchItem {
  width: 100%;
  border: 0;
  background: transparent;
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  gap: 14px;
  padding: 12px 14px;
  cursor: pointer;
  text-align: left;
}
.lrr2SearchItem:hover {
  background: rgba(15, 23, 42, 0.04);
}

.lrr2SearchItemLeft { min-width: 0; flex: 1; }
.lrr2SearchItemTitle { font-weight: 900; line-height: 1.25; color: var(--ink); }
.lrr2SearchItemMeta {
  margin-top: 4px;
  font-size: 12px;
  color: var(--muted);

  /* ✅ slightly softer */
  font-weight: 550;
}
.lrr2SearchItemRight {
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  justify-content: flex-end;
  max-width: 46%;
}

/* Tag */
.lrr2Tag {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 800;
  line-height: 1;
}
.lrr2Tag.soft {
  background: rgba(15, 23, 42, 0.06);
}

/* =========================================================
   5) Progress + ToTop
========================================================= */
.lrr2Progress {
  position: sticky;
  top: 0;
  z-index: 60;
  height: 3px;
  margin-top: 10px;
  background: transparent;
}

.lrr2ProgressBar {
  height: 3px;
  width: 100%;
  transform-origin: left center;
  transform: scaleX(0);
  background: linear-gradient(90deg, rgba(161,24,30,0.0), rgba(161,24,30,0.85), rgba(15,23,42,0.85));
  border-radius: 99px;
}

.lrr2ToTop {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: 70;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--ink);
  border-radius: 999px;
  width: 44px;
  height: 44px;
  cursor: pointer;
  box-shadow: var(--shadow2);
  font-weight: 900;
  transition: transform .12s ease, background .12s ease;
}
.lrr2ToTop:hover {
  transform: translateY(-2px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
}

/* =========================================================
   6) Top grid (meta + actions)
========================================================= */
.lrr2TopGrid {
  display: grid;
  grid-template-columns: 1fr 360px;
  gap: 14px;
  margin-top: 14px;
}

@media (max-width: 1100px) {
  .lrr2TopGrid { grid-template-columns: 1fr 320px; }
}
@media (max-width: 900px) {
  .lrr2TopGrid { grid-template-columns: 1fr; }
}

.lrr2MetaCard,
.lrr2ActionsCard {
  padding: 14px;
}

/* Sticky actions on desktop */
.lrr2ActionsCard {
  position: sticky;
  top: 22px;
  align-self: start;
}
@media (max-width: 900px) {
  .lrr2ActionsCard { position: static; top: auto; }
}

/* Meta chips */
.lrr2MetaChips {
  display: flex;
  flex-wrap: wrap;
  gap: 10px;
  align-items: flex-start;
}

.lrr2MetaChip {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 10px 12px;
  font-weight: 850;
  font-size: 13px;
  line-height: 1;
  cursor: pointer;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  max-width: 100%;
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2MetaChip:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}

.lrr2MetaIcon svg {
  width: 18px;
  height: 18px;
  opacity: 0.9;
}

/* Optional tooltip (data-tip) */
.lrr2MetaChip[data-tip],
.lrr2MetaHint[data-tip] { position: relative; }

.lrr2MetaChip[data-tip]::after,
.lrr2MetaHint[data-tip]::after {
  content: attr(data-tip);
  position: absolute;
  left: 50%;
  bottom: calc(100% + 10px);
  transform: translateX(-50%);
  white-space: nowrap;
  font-size: 12px;
  line-height: 1.2;
  padding: 8px 10px;
  border-radius: 10px;
  background: rgba(15, 23, 42, 0.92);
  color: #fff;
  box-shadow: 0 14px 40px rgba(2, 6, 23, 0.35);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.12s ease, transform 0.12s ease;
  z-index: 80;
}
.lrr2MetaChip[data-tip]::before,
.lrr2MetaHint[data-tip]::before {
  content: "";
  position: absolute;
  left: 50%;
  bottom: calc(100% + 4px);
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: rgba(15, 23, 42, 0.92);
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.12s ease;
  z-index: 80;
}
.lrr2MetaChip[data-tip]:hover::after,
.lrr2MetaChip[data-tip]:hover::before,
.lrr2MetaChip[data-tip]:focus-visible::after,
.lrr2MetaChip[data-tip]:focus-visible::before,
.lrr2MetaHint[data-tip]:hover::after,
.lrr2MetaHint[data-tip]:hover::before,
.lrr2MetaHint[data-tip]:focus-visible::after,
.lrr2MetaHint[data-tip]:focus-visible::before {
  opacity: 1;
  transform: translateX(-50%) translateY(-2px);
}

.lrr2MetaHint {
  display: inline-block;
  margin-top: 10px;
  color: var(--muted);
  font-weight: 700;
  font-size: 12px;
}

/* Actions right card text */
.lrr2ActionsHint {
  /* ✅ soften: text should not feel bold */
  font-weight: 600;
  color: var(--muted);
  line-height: 1.45;
}

.lrr2ActionBtns {
  display: grid;
  gap: 10px;
}

/* =========================================================
   7) Tabs  (FIXED alignment + consistent sizing)
========================================================= */
.lrr2Tabs {
  /* ✅ align with the same 1000px column as header/meta/content */
  max-width: 1000px;
  margin: 12px auto 0;

  /* pill container */
  padding: 6px;
  border-radius: 999px;
  border: 1px solid var(--border);
  background: var(--surface);
  box-shadow: var(--shadow);

  /* ✅ keep tabs perfectly aligned & same height */
  display: inline-flex;
  align-items: center;
  gap: 6px;

  /* ✅ prevent weird wrapping that misaligns the pill */
  width: fit-content;
  max-width: calc(100vw - 32px);
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

.lrr2Tab {
  border: 0;
  background: transparent;
  color: var(--ink);
  border-radius: 999px;

  /* ✅ consistent size for both tabs (badge won’t shift baseline) */
  min-height: 42px;
  padding: 10px 14px;

  cursor: pointer;

  /* ✅ tabs text should NOT be heavy-bold */
  font-weight: 700;

  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;

  white-space: nowrap;

  transition: background .12s ease, transform .12s ease, box-shadow .12s ease;
}

.lrr2Tab:hover {
  background: rgba(15, 23, 42, 0.05);
  transform: translateY(-1px);
}

.lrr2Tab.isActive {
  background: rgba(161, 24, 30, 0.10);
  box-shadow:
    inset 0 0 0 1px rgba(161, 24, 30, 0.18),
    0 10px 22px rgba(2, 6, 23, 0.06);
}

.lrr2TabBadge {
  font-size: 11px;
  font-weight: 900;
  padding: 4px 8px;
  border-radius: 999px;
  background: rgba(161, 24, 30, 0.14);
  color: var(--la-red);
  border: 1px solid rgba(161, 24, 30, 0.18);
  line-height: 1;
}

/* =========================================================
   8) Content + transcript tools
========================================================= */
.lrr2Content {
  margin-top: 14px;
}

.lrr2Empty {
  padding: 14px;
  color: var(--muted);
  font-weight: 800;
}

.lrr2TranscriptTools {
  padding: 14px;
}

.lrr2CaseActions {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

/* buttons */
.lrr2Btn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  padding: 10px 14px;
  border-radius: 12px;
  cursor: pointer;
  font-weight: 850;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2Btn:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}
.lrr2Btn.primary {
  background: linear-gradient(135deg, var(--la-red), var(--la-red2));
  color: #fff;
  border-color: rgba(161, 24, 30, 0.25);
}
.lrr2Btn.primary:hover { filter: brightness(1.03); }
.lrr2Btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

/* Reader bar */
.lrr2ReaderBar {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrr2ReaderCluster {
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  align-items: center;
}

.lrr2IconBtn {
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-radius: 999px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 850;
  display: inline-flex;
  align-items: center;
  gap: 10px;
  transition: transform .12s ease, background .12s ease, border-color .12s ease;
}
.lrr2IconBtn svg { width: 18px; height: 18px; }
.lrr2IconBtn:hover {
  transform: translateY(-1px);
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  border-color: color-mix(in srgb, var(--border) 70%, rgba(161, 24, 30, 0.18));
}
.lrr2IconBtn.isOn {
  background: rgba(14, 165, 165, 0.10);
  border-color: rgba(14, 165, 165, 0.22);
}
.lrr2IconBtnText { font-weight: 950; font-size: 12px; opacity: 0.9; }

/* =========================================================
   9) Collapsible transcript body
========================================================= */
.lrr2Collapse {
  margin-top: 12px;
  background: var(--pageBg);
  color: var(--pageInk);
  border: 1px solid var(--border);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 16px;
  transition: max-height .18s ease, opacity .18s ease;
}
.lrr2Collapse.closed {
  max-height: 0;
  opacity: 0;
  overflow: hidden;
  padding: 0;
  border: 0;
  box-shadow: none;
}
.lrr2Collapse.open { max-height: 100000px; opacity: 1; }

.lrr2FontSerif { font-family: ui-serif, Georgia, "Times New Roman", Times, serif; }
.lrr2FontSans { font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }

/* font scale helpers (JSX creates lrr2Fs-90..120) */
.lrr2Fs-90 { font-size: 0.90em; }
.lrr2Fs-91 { font-size: 0.91em; }
.lrr2Fs-92 { font-size: 0.92em; }
.lrr2Fs-93 { font-size: 0.93em; }
.lrr2Fs-94 { font-size: 0.94em; }
.lrr2Fs-95 { font-size: 0.95em; }
.lrr2Fs-96 { font-size: 0.96em; }
.lrr2Fs-97 { font-size: 0.97em; }
.lrr2Fs-98 { font-size: 0.98em; }
.lrr2Fs-99 { font-size: 0.99em; }
.lrr2Fs-100 { font-size: 1.00em; }
.lrr2Fs-101 { font-size: 1.01em; }
.lrr2Fs-102 { font-size: 1.02em; }
.lrr2Fs-103 { font-size: 1.03em; }
.lrr2Fs-104 { font-size: 1.04em; }
.lrr2Fs-105 { font-size: 1.05em; }
.lrr2Fs-106 { font-size: 1.06em; }
.lrr2Fs-107 { font-size: 1.07em; }
.lrr2Fs-108 { font-size: 1.08em; }
.lrr2Fs-109 { font-size: 1.09em; }
.lrr2Fs-110 { font-size: 1.10em; }
.lrr2Fs-111 { font-size: 1.11em; }
.lrr2Fs-112 { font-size: 1.12em; }
.lrr2Fs-113 { font-size: 1.13em; }
.lrr2Fs-114 { font-size: 1.14em; }
.lrr2Fs-115 { font-size: 1.15em; }
.lrr2Fs-116 { font-size: 1.16em; }
.lrr2Fs-117 { font-size: 1.17em; }
.lrr2Fs-118 { font-size: 1.18em; }
.lrr2Fs-119 { font-size: 1.19em; }
.lrr2Fs-120 { font-size: 1.20em; }

/* Transcript formatting */
.lrr2CaseFmt { line-height: 1.8; max-width: 78ch; margin: 0 auto; }
.lrr2CaseH { margin: 18px 0 8px; font-weight: 950; letter-spacing: -0.01em; }

/* ✅ paragraphs should not be bold */
.lrr2CaseP { margin: 10px 0; font-weight: 500; }

/* If HTML content is used */
.lrr2Html { line-height: 1.75; }
.lrr2Html :where(h2){ font-size:18px; font-weight:900; margin:14px 0 8px; }
.lrr2Html :where(h3){ font-size:16px; font-weight:900; margin:12px 0 6px; }
.lrr2Html :where(h4){ font-size:14px; font-weight:900; margin:10px 0 6px; }
.lrr2Html :where(p){ margin: 8px 0; line-height:1.7; }
.lrr2Html :where(blockquote){
  border-left:4px solid rgba(148,163,184,.5);
  padding-left:12px;
  margin:10px 0;
}
.lrr2Html :where(table){ width:100%; border-collapse:collapse; margin:10px 0; }
.lrr2Html :where(th, td){
  border:1px solid rgba(148,163,184,.5);
  padding:8px;
  vertical-align:top;
}
.lrr2Html :where(ul,ol){ padding-left:20px; }
.lrr2Html :where(a){ text-decoration:underline; }

/* =========================================================
   10) Panels (related db / ai related / etc.)
========================================================= */
.lrr2Panel { padding: 14px; }
.lrr2Panel--tight { padding: 14px; }

.lrr2PanelHead {
  display: flex;
  align-items: flex-start;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrr2PanelHeadLeft { min-width: 260px; }
.lrr2PanelTitle { font-weight: 950; letter-spacing: -0.01em; }
.lrr2PanelSub { margin-top: 4px; font-size: 13px; color: var(--muted); font-weight: 700; }
.lrr2PanelError { margin-top: 10px; color: #b91c1c; font-weight: 750; }
.lrr2PanelEmpty { margin-top: 10px; color: var(--muted); font-weight: 700; }

/* DB related list */
.lrr2DbRelatedList { margin-top: 10px; display: grid; gap: 8px; }

/* =========================================================
   11) AI Summary
========================================================= */
.lrrAi {
  padding: 14px;
}

.lrrAiTop { margin-bottom: 10px; }
.lrrAiTitleRow {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
}

.lrrAiTitle {
  font-weight: 950;
  letter-spacing: -0.01em;
  font-size: 14px;
  text-transform: uppercase;
  opacity: 0.9;
}

.lrrAiBadge {
  border: 1px solid rgba(161, 24, 30, 0.22);
  background: rgba(161, 24, 30, 0.10);
  color: var(--la-red);
  border-radius: 999px;
  padding: 6px 10px;
  font-size: 12px;
  font-weight: 900;
}

/* The top-right icon buttons reuse .lrrAiUpgradeBtn */
.lrrAiIconRow { display:flex; gap:8px; align-items:center; }

.lrrAiToast {
  margin-top: 10px;
  display: inline-block;
  padding: 8px 10px;
  border-radius: 12px;
  background: rgba(15, 23, 42, 0.06);
  border: 1px solid var(--border);
  font-weight: 800;
  font-size: 12px;
  color: var(--muted);
}

.lrrAiError {
  margin-top: 10px;
  padding: 10px 12px;
  border-radius: 14px;
  background: rgba(185, 28, 28, 0.08);
  border: 1px solid rgba(185, 28, 28, 0.18);
  color: #b91c1c;
  font-weight: 800;
}

.lrrAiHeadnote {
  margin-top: 10px;
  border-top: 1px solid var(--border);
  padding-top: 10px;
}
.lrrAiHeadnoteTitle {
  font-weight: 950;
  letter-spacing: -0.01em;
  font-size: 18px;
  font-family: ui-serif, Georgia, "Times New Roman", Times, serif;
}
.lrrAiHeadnoteMeta {
  margin-top: 4px;
  color: var(--muted);
  font-weight: 750;
  font-size: 13px;
}
.lrrAiHeadnoteRule {
  margin-top: 10px;
  height: 1px;
  background: linear-gradient(90deg, transparent, rgba(161, 24, 30, 0.22), transparent);
}

.lrrAiUpgrade {
  margin-top: 12px;
  border: 1px solid rgba(161, 24, 30, 0.20);
  background: rgba(161, 24, 30, 0.08);
  border-radius: 16px;
  padding: 12px;
  display: flex;
  justify-content: space-between;
  gap: 12px;
  flex-wrap: wrap;
  align-items: center;
}
.lrrAiUpgrade.isExtended {
  background: rgba(15, 23, 42, 0.06);
  border-color: var(--border);
}
.lrrAiUpgradeText { font-weight: 650; color: var(--ink); }

.lrrAiUpgradeBtn {
  border: 1px solid rgba(161, 24, 30, 0.25);
  background: linear-gradient(135deg, var(--la-red), var(--la-red2));
  color: #fff;
  border-radius: 12px;
  padding: 10px 12px;
  cursor: pointer;
  font-weight: 900;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
  transition: transform .12s ease, filter .12s ease, opacity .12s ease;
}
.lrrAiUpgradeBtn svg { width: 18px; height: 18px; }
.lrrAiUpgradeBtn:hover { transform: translateY(-1px); filter: brightness(1.03); }
.lrrAiUpgradeBtn:disabled { opacity: 0.65; cursor: not-allowed; transform: none; }

.lrrAiUpgradeBtn.ghost {
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  color: var(--ink);
  border-color: var(--border);
}
.lrrAiUpgradeBtn.ghost:hover {
  background: color-mix(in srgb, var(--surface) 96%, transparent);
  filter: none;
}

.lrrAiBody {
  margin-top: 12px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
}

.lrrAiFooterNote {
  margin-top: 12px;
  font-size: 12px;
  color: var(--muted);
  font-weight: 700;
}

/* AI rich summary */
.lrrAiRich { line-height: 1.75; }
.lrrAiTitleBlock {
  padding: 12px;
  border-radius: 16px;
  border: 1px solid rgba(161, 24, 30, 0.18);
  background: rgba(161, 24, 30, 0.06);
  margin-bottom: 12px;
}
.lrrAiTitleKicker {
  font-size: 12px;
  font-weight: 950;
  text-transform: uppercase;
  color: var(--la-red);
  opacity: 0.9;
}
.lrrAiTitleMain {
  margin-top: 6px;
  font-weight: 950;
  font-size: 16px;
  letter-spacing: -0.01em;
}

.lrrAiBlock { margin-top: 12px; }
.lrrAiH { font-weight: 950; letter-spacing: -0.01em; }
.lrrAiHVal { color: var(--muted); font-weight: 850; }

/* ✅ paragraphs should not be bold */
.lrrAiP { margin-top: 8px; font-weight: 500; color: var(--ink); }

/* Bullets */
.lrrAiUl { margin-top: 8px; padding-left: 18px; }

/* ✅ bullets should not be bold */
.lrrAiLi { margin: 6px 0; font-weight: 500; }

/* Key points details (collapsible) */
.lrrKp {
  margin-top: 12px;
  border: 1px solid var(--border);
  background: color-mix(in srgb, var(--surface) 80%, transparent);
  border-radius: 16px;
  padding: 10px 12px;
}
.lrrKpSummary {
  cursor: pointer;
  font-weight: 900;
  color: var(--ink);
}
.lrrKpHint { color: var(--muted); font-weight: 650; }
.lrrKpVal { color: var(--muted); font-weight: 750; }

/* Key points cards grid */
.lrrAiUl.isKeyPointsCards {
  list-style: none;
  padding-left: 0;
  display: grid;
  gap: 10px;
}

/* ✅ Premium “Key Points” cards: gradient border + shadow */
.lrrAiUl.isKeyPointsCards .lrrAiLi {
  list-style: none;
  border-radius: 16px;
  padding: 12px 14px;

  border: 1px solid transparent;
  background:
    linear-gradient(var(--surface), var(--surface)) padding-box,
    linear-gradient(
      135deg,
      rgba(161, 24, 30, 0.35),
      rgba(14, 165, 165, 0.26),
      rgba(15, 23, 42, 0.22)
    ) border-box;

  box-shadow:
    0 14px 34px rgba(2, 6, 23, 0.08),
    0 2px 0 rgba(255, 255, 255, 0.35) inset;

  transition: transform .12s ease, box-shadow .12s ease;
}

.lrrAiUl.isKeyPointsCards .lrrAiLi:hover {
  transform: translateY(-1px);
  box-shadow:
    0 18px 42px rgba(2, 6, 23, 0.10),
    0 2px 0 rgba(255, 255, 255, 0.35) inset;
}

/* =========================================================
   12) Chat panel
========================================================= */
.lrr2ChatBox {
  margin-top: 10px;
  border-radius: 16px;
  border: 1px solid var(--border);
  background: rgba(15, 23, 42, 0.05);
  padding: 12px;
  max-height: 320px;
  overflow: auto;
}

.lrr2ChatRow { display: flex; margin-bottom: 10px; }
.lrr2ChatRow.isUser { justify-content: flex-end; }
.lrr2ChatRow.isAi { justify-content: flex-start; }

.lrr2ChatBubble {
  max-width: 86%;
  padding: 10px 12px;
  border-radius: 14px;
  font-size: 13px;
  line-height: 1.45;
  white-space: pre-wrap;
  border: 1px solid rgba(255, 255, 255, 0.10);

  /* ✅ not bold */
  font-weight: 500;
}
.lrr2ChatBubble.isUser {
  background: rgba(161, 24, 30, 0.14);
  border-color: rgba(161, 24, 30, 0.18);
}
.lrr2ChatBubble.isAi {
  background: color-mix(in srgb, var(--surface) 86%, transparent);
  border-color: var(--border);
}

.lrr2ChatComposer {
  margin-top: 10px;
  display: flex;
  gap: 10px;
  align-items: center;
  flex-wrap: wrap;
}

.lrr2ChatInput {
  flex: 1;
  min-width: 240px;
}

/* =========================================================
   13) Responsive
========================================================= */
@media (max-width: 640px) {
  .lrr2Wrap { padding: 14px 12px 40px; }
  .lrr2Brand { font-size: 16px; }
  .lrr2SearchInput { min-width: 0; width: 100%; }
  .lrr2SearchItemRight { max-width: 100%; justify-content: flex-start; }
}
